<!DOCTYPE html>
<html>
<head>
    <title>Retirement Planner: Future Earnings Impact on Social Security Benefits</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <script src="/js/dbh-dev-console.js"></script>
    <div class="theme-toggle">
        <button id="themeToggle" aria-label="Toggle dark mode">
            <span class="sun">‚òÄÔ∏è</span>
            <span class="moon">üåô</span>
        </button>
    </div>    
    <header class="page-header">
        <h1>Retirement Planner</h1>
        <h2>Future Earnings Impact on Social Security Benefits</h2>
    </header>

    <div class="tab-container">
        <div class="tab-buttons">
            <button class="tab-button active" onclick="showTab('input')">Input Earnings</button>
            <button class="tab-button" onclick="showTab('results')">View Results</button>
        </div>

        <div id="input" class="tab-content active">
            <div class="current-info-section">
                <h2>Your Information</h2>
                <div class="input-group">
                    <label for="currentAge">Current Age:</label>
                    <input type="number" id="currentAge" min="1" max="70" required>
                </div>
                <div class="input-group">
                    <label for="futureWorkYears">Additional Years Planning to Work:</label>
                    <input type="number" id="futureWorkYears" min="0" max="50" value="0">
                </div>
                <div class="input-group">
                    <label for="futureAnnualEarnings">Expected Average Annual Earnings:</label>
                    <input type="number" id="futureAnnualEarnings" min="0" value="0">
                </div>
            </div>
            <div class="input-section">
                <h2>Input Earnings History</h2>
                <p>Paste earnings data in either format:<br>
                CSV format: year,earnings<br>
                Tab-delimited format: year[tab]earnings<br>
                Examples:<br>
                1990,30000<br>
                1991[tab]32000</p>
                <p>Note: Earnings will automatically be capped at each year's Social Security contribution limit.</p>
                <textarea id="csvInput" rows="10" cols="50"></textarea><br>
                <button class="calculate" onclick="processInput()">Calculate Benefits</button>
            </div>
            <div id="earningsTable"></div>
        </div>

        <div id="results" class="tab-content">
            <div class="results-grid">
                <div class="calculation-details">
                    <h3>AIME Calculation</h3>
                    <div id="aimeDetails"></div>
                </div>
                <div class="calculation-details">
                    <h3>PIA Calculation</h3>
                    <div id="piaDetails"></div>
                </div>
            </div>
            <div class="chart-container">
                <canvas id="benefitChart"></canvas>
            </div>
            <div class="calculation-details">
                <h3>Monthly Benefit by Retirement Age</h3>
                <div id="benefitTable"></div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>